<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../sniff/style.css">
    <title>Sniff</title>
   
</head>

<bod</body>
    <div id="main-layout">
        <!-- Fast sidomeny -->
        <div id="sidebar">
            <header><h3>Poäng</h3></header>
            <button class="standardbutton">Vunnet spel +5</button>
            <button class="standardbutton">Ett par +1</button>
            <button class="standardbutton">Två par +2</button>
            <button class="standardbutton">Triss +3</button>
            <button class="standardbutton">Stege +4</button>
            <button class="standardbutton">Färg +5</button>
            <button class="standardbutton">Kåk +6</button>
            <button class="standardbutton">Fyrtal +8</button>
            <button class="standardbutton">Straight flush +11</button>
            <button class="goldenbutton">Royal straight flush +52</button>
            <button class="greenbutton">Lyckad "Sniff" <br>+15</button>
            <button class="redbutton">Misslyckad "Sniff" -15</button>
        </div>
        <script>
            const buttonValues = [5, 1, 2, 3, 4, 5, 6, 8, 11, 52, 15, -15];
        
            document.querySelectorAll('.standardbutton, .goldenbutton, .greenbutton, .redbutton').forEach((button, index) => {
                button.dataset.value = buttonValues[index];
        
                button.addEventListener('click', () => {
                    const playerContainer = document.getElementById('player-container');
                    const players = playerContainer.querySelectorAll('.player-column');
        
                    // Create a popup
                    const popup = document.createElement('div');
                    popup.className = 'popup';
                    popup.innerHTML = `
                        <div class="popup-content">
                            <header class="popup-header"><p>Välj spelare</p></header>
                            ${Array.from(players).map((_, i) => `
                                <button class="player-select-btn" data-player-index="${i}">Spelare ${i + 1}</button>
                            `).join('')}
                            <button class="close-popup-btn">X</button>
                        </div>
                    `;
                    document.body.appendChild(popup);
        
                    // Add event listeners to player buttons
                    popup.querySelectorAll('.player-select-btn').forEach(playerButton => {
                        playerButton.addEventListener('click', () => {
                            const playerIndex = playerButton.dataset.playerIndex;
                            const selectedPlayerInput = players[playerIndex].querySelector('input[type="number"]');
        
                            // Assign points **only after selecting a player**
                            selectedPlayerInput.value = parseInt(selectedPlayerInput.value) + parseInt(button.dataset.value);
                            popup.remove();
                        });
                    });
        
                    // Close popup button
                    popup.querySelector('.close-popup-btn').addEventListener('click', () => {
                        popup.remove();
                    });
                });
            });
        </script>

        <!-- Innehåll -->
        <div id="content">
            <div id="player-container"></div>
            <button id="add-player-btn">Lägg till spelare</button>
        </div>
    </div>

    <script>
        let playerCount = 0;

        function addPlayer() {
            playerCount++;
            const playerColumn = document.createElement('div');
            playerColumn.className = 'player-column';
            playerColumn.innerHTML = `
                <div style="margin-bottom: 15px;">
                    <input type="text" value="Spelare ${playerCount}" />
                </div>
                <div>
                    <input type="number" value="0" />
                </div>
                <button class="delete-btn">X</button>
            `;
            document.getElementById('player-container').appendChild(playerColumn);

            playerColumn.querySelector('.delete-btn').addEventListener('click', () => {
                playerColumn.remove();
            });
        }

        // Lägg till tre spelare vid sidan startar
        addPlayer();
        addPlayer();
        addPlayer();
        document.getElementById('add-player-btn').addEventListener('click', addPlayer);
    </script>
</body>
</html>
</script>